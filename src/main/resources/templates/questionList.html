<!-- header and footer template body -->
<!doctype html>
<html lang="ko" xmlns="http://thymeleaf.org">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>question board</title>
<script src="/js/include.js"></script>

<!-- Template Stylesheet -->
<link rel="stylesheet" href="css/style.css">

<!-- Bootstrap Stylesheet -->
<link rel="stylesheet" href="/css/bootstrap.min.css">

<!-- Icon Font Stylesheet -->
<link
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
	rel="stylesheet">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"
	rel="stylesheet">
<script src="https://kit.fontawesome.com/3eb7b16202.js" crossorigin="anonymous"></script>

<!-- Template Javascript -->
<script src="/js/main.js"></script>
</head>

<body>

<div class="container-xxl bg-white p-0">
<!-- header Start -->
<div id="header-container"></div>
<!-- header End -->

<div class="container">
    <h2 class="ml-2">질문 게시판 목록</h2>
 
    <form class="m-2" action="/questions/search" method="GET" style="float: right;">
        <!-- <label for="search-type" hidden>유형</label>
        <select id="search-type" name="search-type">
            <option>제목</option>
            <option>작성자</option>

        </select> -->
        <label for="search-value" hidden>검색어</label>
        <input id="search-value"  type="search" placeholder="검색어를 입력해주세요" name="search-value">
        <button type="submit" class="btn btn-danger">검색</button>
    </form>
  
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>번호</th>
                <th>제목</th>
                <th>작성자</th>
                <th>날짜</th>
            </tr>
        </thead>
        <tbody class="row-6" th:each="item : ${questions}" >
        
            
            <tr>
                <div>
                    <td th:text="${item.quesNo}"></td>
                    <td><a th:href="@{/questions/{quesNo}(quesNo=${item.quesNo})}" th:text="${item.quesTitle}"></a></td>
                    <td th:text="${item.quesNo}"></td>
                    <td th:text="${#temporals.format(item.quesRdate, 'yyyy-MM-dd HH:mm')}"></td>
                    
                </div>
            </tr>
        </tbody>
    </table>
    
    <button type="button" id="create-btn"
    th:onclick="|location.href='@{/new-question}'|"
    class="btn btn-secondary btn-sm mb-3" style="float:right">글 등록</button>
</div>

<br>
<br>  

<nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">
        <li class="page-item" th:classappend="${startPage == questions.pageable.pageNumber + 1} ? 'disabled'">
            <a class="page-link" th:href="@{/questions(page=${questions.pageable.pageNumber - 1})}" tabindex="-1">Previous</a>
        </li>
        <li class="page-item" th:classappend="${num == questions.pageable.pageNumber + 1} ? 'active'" th:each="num : ${#numbers.sequence(startPage, endPage)}">
            <a class="page-link" th:href="@{/questions(page=${num-1})}" th:text="${num}">1</a></li>

        <li class="page-item" th:classappend="${endPage == questions.pageable.pageNumber + 1} ? 'disabled'">
            <a class="page-link" th:href="@{/questions(page=${questions.pageable.pageNumber + 1})}">Next</a>
        </li>
    </ul>
</nav>

<!-- footer Start -->
    <div id="footer-container"></div>
    <!-- footer End -->
</div>	
	<!-- bootstrap library -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
		crossorigin="anonymous"></script>





    

    <script src="/js/quesBoard.js"></script>
</body> 